{"version":3,"sources":["../../src/es6/letAndConst.js"],"names":["ary1","i1","console","log","innerVar1","ary2","i2","foo","bar","abc","tmp1","Date","f1","tmp2","f2","src1","i3","length","f3","PI","foo2","prop1","ary3","push","foo3","Object","freeze","globalVar","window","globalLet"],"mappings":"AAAA;;;AAGA;;AAEA;AACA;;AACA,IAAIA,OAAO,EAAX;AACA,KAAK,IAAIC,KAAK,CAAd,EAAiBA,KAAK,EAAtB,EAA0BA,IAA1B,EAAgC;AAC5BD,SAAKC,EAAL,IAAW,YAAY;AACnBC,gBAAQC,GAAR,CAAYF,EAAZ;AACH,KAFD;AAGA,QAAIG,YAAY,EAAhB;AACH;AACDJ,KAAK,CAAL,I,CAAW;AACXE,QAAQC,GAAR,CAAYC,SAAZ;;AAEA,IAAIC,OAAO,EAAX;;2BACSC,E;AACLD,SAAKC,EAAL,IAAW,YAAY;AACnBJ,gBAAQC,GAAR,CAAYG,EAAZ;AACH,KAFD;;;AADJ,KAAK,IAAIA,KAAK,CAAd,EAAiBA,KAAK,EAAtB,EAA0BA,IAA1B,EAAgC;AAAA,UAAvBA,EAAuB;AAI/B;AACDD,KAAK,CAAL,I,CAAW;;;AAGX;AACA;AACAH,QAAQC,GAAR,CAAYI,GAAZ,E,CAAkB;AAClB;AACAL,QAAQC,GAAR,CAAYK,GAAZ,E,CAAkB;;AAElB,IAAID,MAAM,CAAV;AACA,IAAIC,MAAM,CAAV;;AAGA;AACA;AACA,IAAIC,MAAM,EAAV;AACA;;;AAGA;AACA;AACA,IAAIC,OAAO,IAAIC,IAAJ,EAAX;AACA,IAAID,IAAJ;AACAR,QAAQC,GAAR,CAAYO,IAAZ,E,CAAmB;AACnB,SAASE,EAAT,GAAc;AACVV,YAAQC,GAAR,CAAYO,IAAZ,EADU,CACS;AACnB,QAAI,KAAJ,EAAW;AACP,YAAIA,OAAO,aAAX,CADO,CACoB;AAC9B;AACJ;AACDE,K,CAAM;;AAEN,IAAIC,OAAO,IAAIF,IAAJ,EAAX;AACA,SAASG,EAAT,GAAc;AACVZ,YAAQC,GAAR,CAAYU,IAAZ,EADU,CACS;AACnB,QAAI,KAAJ,EAAW;AACP,YAAIA,OAAO,aAAX;AACH;AACJ;AACDC;;AAEA;AACA;AACA,IAAIC,OAAO,OAAX;AACA,KAAK,IAAIC,KAAK,CAAd,EAAiBA,KAAKD,KAAKE,MAA3B,EAAmCD,IAAnC,EAAyC;AACrCd,YAAQC,GAAR,CAAYY,KAAKC,EAAL,CAAZ;AACH;AACDd,QAAQC,GAAR,CAAYa,EAAZ,E,CAAiB;;;AAGjB;AACA;AACA;AACA;AACA,SAASE,EAAT,GAAc;AAAEhB,YAAQC,GAAR,CAAY,eAAZ;AAA+B;AAC/C,CAAC,YAAY;AACT,QAAI,IAAJ,EAAU;AAAG;AACT;AACA,YAAIe,KAAK,SAALA,EAAK,GAAW;AAAEhB,oBAAQC,GAAR,CAAY,cAAZ;AAA8B,SAApD,CAFM,CAE+C;AACrD;AACH;AACDe,SANS,CAMH;AACT,CAPD;;AASA;AACA;AACA,IAAMC,KAAK,MAAX;;AAEA,IAAMC,OAAO,EAAb;AACAA,KAAKC,KAAL,GAAa,GAAb;AACAnB,QAAQC,GAAR,CAAYiB,KAAKC,KAAjB,E,CAA0B;;AAE1B;;AAEA,IAAMC,OAAO,EAAb;AACAA,KAAKC,IAAL,CAAU,OAAV,E,CAAoB;AACpBrB,QAAQC,GAAR,CAAYmB,KAAKL,MAAjB,E,CAA0B;;AAE1B,IAAMO,OAAOC,OAAOC,MAAP,CAAc,EAAd,CAAb;;AAEA;AACA;AACA;AACAxB,QAAQC,GAAR,CAAYqB,KAAKH,KAAjB,E,CAAyB;;;AAGzB;AACA;AACA,IAAIM,YAAY,CAAhB;AACA;AACA;AACAzB,QAAQC,GAAR,CAAYyB,OAAOD,SAAnB,E,CAA+B;;AAE/B,IAAIE,YAAY,CAAhB;AACA3B,QAAQC,GAAR,CAAYyB,OAAOC,SAAnB,E,CAA+B","file":"letAndConst.js","sourcesContent":["/**\r\n * Created by hehui on 2016/9/6.\r\n */\r\n'use strict'\r\n\r\n// ================\r\n// var 定义的变量会有变量提升，而let定义的只是在块级作用域内（｛｝）\r\nvar ary1 = [];\r\nfor (var i1 = 0; i1 < 10; i1++) {\r\n    ary1[i1] = function () {\r\n        console.log(i1);\r\n    };\r\n    var innerVar1 = 88;\r\n}\r\nary1[6](); // 10\r\nconsole.log(innerVar1);\r\n\r\nvar ary2 = [];\r\nfor (let i2 = 0; i2 < 10; i2++) {\r\n    ary2[i2] = function () {\r\n        console.log(i2);\r\n    };\r\n}\r\nary2[6](); // 6\r\n\r\n\r\n// ================\r\n// 使用let定义的变量，不能先使用，后定义。\r\nconsole.log(foo); // 输出undefined\r\n// 支持es6原生语法的解析器会报错：Uncaught ReferenceError: bar is not defined\r\nconsole.log(bar); // undefined\r\n\r\nvar foo = 2;\r\nlet bar = 2;\r\n\r\n\r\n// ================\r\n// let 重复定义变量会报错。\r\nlet abc = 10;\r\n// let abc = 2; // 会报错： Duplicate declaration（重复声明错误）\r\n\r\n\r\n// ================\r\n// var具有变量提升，会覆盖外层定义的同名变量，且在if不成立的语句中，自动被复制 undefined\r\nvar tmp1 = new Date();\r\nvar tmp1;\r\nconsole.log(tmp1); // 输出时间\r\nfunction f1() {\r\n    console.log(tmp1); // undefined\r\n    if (false) {\r\n        var tmp1 = \"hello world\";  // 会存在变量的提升\r\n    }\r\n}\r\nf1(); // undefined // 变量提升导致的原因。\r\n\r\nlet tmp2 = new Date();\r\nfunction f2() {\r\n    console.log(tmp2); // 时间\r\n    if (false) {\r\n        let tmp2 = \"hello world\";\r\n    }\r\n}\r\nf2();\r\n\r\n// =================\r\n// var 定于i的变量会存在泄漏到全局作用域中的风险。\r\nvar src1 = 'hello';\r\nfor (var i3 = 0; i3 < src1.length; i3++) {\r\n    console.log(src1[i3]);\r\n}\r\nconsole.log(i3); // 5   // i3泄露成了全局变量。\r\n\r\n\r\n// ==================\r\n// 函数声明原本具备函数提升的现象。但是放在判断语句里不能提升，\r\n// 且在严格模式下会报错：xxx is not defined 　\r\n// ##### 推荐使用 函数表达式\r\nfunction f3() { console.log('I am outside!'); }\r\n(function () {\r\n    if (true) {  // 如果为false，将会报错：f3 is not a function\r\n        // 重复声明一次函数f3\r\n        var f3 = function() { console.log('I am inside!'); } // 推荐方式\r\n        // function f3() { console.log('I am inside!'); }\r\n    }\r\n    f3(); // I am inside!\r\n})();\r\n\r\n// =======================================\r\n// const\r\nconst PI = 3.1415;\r\n\r\nconst foo2 = {};\r\nfoo2.prop1 = 123; \r\nconsole.log(foo2.prop1);  // 123\r\n\r\n// foo2 = {}; // TypeError: \"foo\" is read-only\r\n\r\nconst ary3 = [];\r\nary3.push('Hello'); // 可执行\r\nconsole.log(ary3.length); // 1\r\n\r\nconst foo3 = Object.freeze({});\r\n\r\n// 常规模式时，下面一行不起作用；\r\n// 严格模式时，该行会报错\r\n// foo3.prop = 123;  // 报错：Uncaught TypeError: Can't add property prop, object is not extensible\r\nconsole.log(foo3.prop1); // 非严格模式没有效果，结果为：undefined\r\n\r\n\r\n// =======================\r\n// 全局对象属性，全局变量\r\nvar globalVar = 1;\r\n// 如果在Node的REPL环境，可以写成global.a\r\n// 或者采用通用方法，写成this.a\r\nconsole.log(window.globalVar); // 1\r\n\r\nlet globalLet = 1;\r\nconsole.log(window.globalLet); // undefined\r\n"]}
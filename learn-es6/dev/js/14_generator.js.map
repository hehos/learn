{"version":3,"sources":["webpack:///./src/es6/14_generator.js"],"names":["gen","longRunningTask","wrapper","genObj","next","Gen","Symbol","iterator","value1","step1","value2","step2","value3","step3","value4","step4","value5","scheduler","initialValue","task","taskObj","value","done","p1","Promise","resolve","reject","Error","console","log","p2","then","result","catch","error","val"],"mappings":";;;;;;;;gBAMUA,G,EAuBAC,e;;AA7BV;;;;AAIA;;AAEA,UAAUD,GAAV;AAAA;AAAA;AAAA;AAAA;AAAA,sDACW,MADX;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAIA,UAASE,OAAT,GAAmB;AACf,SAAIC,SAASH,KAAb;AACA,YAAOG,OAAOC,IAAP,EAAP;AACH;;AAEDF;;AAGA,UAASG,GAAT,GAAe;AACX;AACID,eAAM,gBAAY,CAEjB;AAHL,QAIKE,OAAOC,QAJZ,EAIuB,YAAY;AAC3B,gBAAO,IAAP;AACH,MANL;AAQH;;AAED,UAAUN,eAAV,CAA0BO,MAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAE2BC,MAAMD,MAAN,CAF3B;;AAAA;AAEYE,2BAFZ;AAAA;AAAA,4BAG2BC,MAAMD,MAAN,CAH3B;;AAAA;AAGYE,2BAHZ;AAAA;AAAA,4BAI2BC,MAAMD,MAAN,CAJ3B;;AAAA;AAIYE,2BAJZ;AAAA;AAAA,4BAK2BC,MAAMD,MAAN,CAL3B;;AAAA;AAKYE,2BALZ;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAYAC,WAAUhB,gBAAgBiB,YAAhB,CAAV;;AAEA,UAASD,SAAT,CAAmBE,IAAnB,EAAyB;AACrB,SAAIC,UAAUD,KAAKf,IAAL,CAAUe,KAAKE,KAAf,CAAd;AACA;AACA,SAAI,CAACD,QAAQE,IAAb,EAAmB;AACfH,cAAKE,KAAL,GAAaD,QAAQC,KAArB;AACAJ,mBAAUE,IAAV;AACH;AACJ;;AAGD,KAAII,KAAK,IAAIC,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC5C;AACAA,YAAO,IAAIC,KAAJ,CAAU,MAAV,CAAP;AACH,EAHQ,CAAT;AAIAC,SAAQC,GAAR,CAAY,OAAON,EAAnB;;AAEA,KAAIO,KAAK,IAAIN,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC5C;AACAD,aAAQF,EAAR;AACH,EAHQ,CAAT;AAIAK,SAAQC,GAAR,CAAY,OAAOC,EAAnB;AACAA,IACKC,IADL,CACU,UAAUC,MAAV,EAAkB;AACpBJ,aAAQC,GAAR,CAAYG,MAAZ;AACH,EAHL,EAIKC,KAJL,CAIW,UAAUC,KAAV,EAAiB;AACpBN,aAAQC,GAAR,CAAYK,KAAZ;AACH,EANL;;AAQA;AACA,KAAIX,KAAK,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV;AAAA,YAAqBD,QAAQ,EAAR,CAArB;AAAA,EAAZ,CAAT;;AAEAF,IAAGQ,IAAH,CAAQ;AAAA,YAAOH,QAAQC,GAAR,CAAY,MAAMM,GAAlB,CAAP;AAAA,EAAR;AACAZ,IAAGQ,IAAH,CAAQ;AAAA,YAAOH,QAAQC,GAAR,CAAY,MAAMM,GAAlB,CAAP;AAAA,EAAR,E","file":"14_generator.js","sourcesContent":["/**\r\n * Created by hehui on 2016/11/3.\r\n */\r\n\r\n// ！！！！ 这个例子不能运行  ！！！！！！\r\n\r\nfunction* gen() {\r\n    return 'DONE';\r\n}\r\n\r\nfunction wrapper() {\r\n    var genObj = gen();\r\n    return genObj.next();\r\n}\r\n\r\nwrapper();\r\n\r\n\r\nfunction Gen() {\r\n    return {\r\n        next: function () {\r\n\r\n        },\r\n        [Symbol.iterator]: function () {\r\n            return this;\r\n        }\r\n    }\r\n}\r\n\r\nfunction* longRunningTask(value1) {\r\n    try {\r\n        var value2 = yield step1(value1);\r\n        var value3 = yield step2(value2);\r\n        var value4 = yield step3(value3);\r\n        var value5 = yield step4(value4);\r\n        // Do something with value4\r\n    } catch (e) {\r\n        // Handle any error from step1 through step4\r\n    }\r\n}\r\n\r\nscheduler(longRunningTask(initialValue));\r\n\r\nfunction scheduler(task) {\r\n    var taskObj = task.next(task.value);\r\n    // 如果Generator函数未结束，就继续调用\r\n    if (!taskObj.done) {\r\n        task.value = taskObj.value\r\n        scheduler(task);\r\n    }\r\n}\r\n\r\n\r\nvar p1 = new Promise(function (resolve, reject) {\r\n    // setTimeout(() => reject(new Error('fail')), 3000)\r\n    reject(new Error('fail'))\r\n})\r\nconsole.log('p1' + p1);\r\n\r\nvar p2 = new Promise(function (resolve, reject) {\r\n    // setTimeout(() => resolve(p1), 1000)\r\n    resolve(p1)\r\n})\r\nconsole.log('p2' + p2);\r\np2\r\n    .then(function (result) {\r\n        console.log(result);\r\n    })\r\n    .catch(function (error) {\r\n        console.log(error);\r\n    })\r\n\r\n// 多个通知\r\nvar p1 = new Promise((resolve, reject) => resolve(33));\r\n\r\np1.then(val => console.log('a' + val));\r\np1.then(val => console.log('b' + val));\n\n\n/** WEBPACK FOOTER **\n ** ./src/es6/14_generator.js\n **/"],"sourceRoot":""}